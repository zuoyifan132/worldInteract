{
  "directories": {
    "description": "Directory structure and metadata in the file system",
    "primary_key": "path",
    "fields": {
      "path": {
        "type": "string",
        "description": "Absolute path of the directory",
        "required": true
      },
      "name": {
        "type": "string",
        "description": "Directory name",
        "required": true
      },
      "parent_path": {
        "type": "string",
        "description": "Path of parent directory",
        "required": false,
        "default": null
      },
      "size": {
        "type": "integer",
        "description": "Directory size in bytes",
        "required": true,
        "default": 0
      },
      "created_at": {
        "type": "string",
        "description": "Directory creation timestamp",
        "required": true
      },
      "modified_at": {
        "type": "string",
        "description": "Directory last modification timestamp",
        "required": true
      },
      "permissions": {
        "type": "string",
        "description": "Directory permissions (e.g., rwxr-xr-x)",
        "required": true,
        "default": "rwxr-xr-x"
      }
    },
    "relationships": {
      "parent_path": {
        "type": "many_to_one",
        "table": "directories",
        "field": "path"
      }
    }
  },
  "files": {
    "description": "File metadata and content in the file system",
    "primary_key": "path",
    "fields": {
      "path": {
        "type": "string",
        "description": "Absolute path of the file",
        "required": true
      },
      "name": {
        "type": "string",
        "description": "File name with extension",
        "required": true
      },
      "directory_path": {
        "type": "string",
        "description": "Path of containing directory",
        "required": true
      },
      "content": {
        "type": "string",
        "description": "File content as text",
        "required": true,
        "default": ""
      },
      "size": {
        "type": "integer",
        "description": "File size in bytes",
        "required": true,
        "default": 0
      },
      "extension": {
        "type": "string",
        "description": "File extension (e.g., txt, py, js)",
        "required": false,
        "default": ""
      },
      "line_count": {
        "type": "integer",
        "description": "Number of lines in the file",
        "required": true,
        "default": 0
      },
      "word_count": {
        "type": "integer",
        "description": "Number of words in the file",
        "required": true,
        "default": 0
      },
      "character_count": {
        "type": "integer",
        "description": "Number of characters in the file",
        "required": true,
        "default": 0
      },
      "created_at": {
        "type": "string",
        "description": "File creation timestamp",
        "required": true
      },
      "modified_at": {
        "type": "string",
        "description": "File last modification timestamp",
        "required": true
      },
      "accessed_at": {
        "type": "string",
        "description": "File last access timestamp",
        "required": true
      },
      "permissions": {
        "type": "string",
        "description": "File permissions (e.g., rw-r--r--)",
        "required": true,
        "default": "rw-r--r--"
      }
    },
    "relationships": {
      "directory_path": {
        "type": "many_to_one",
        "table": "directories",
        "field": "path"
      }
    }
  },
  "sessions": {
    "description": "Current session state and working directory information",
    "primary_key": "session_id",
    "fields": {
      "session_id": {
        "type": "string",
        "description": "Unique session identifier",
        "required": true,
        "default": "default"
      },
      "current_working_directory": {
        "type": "string",
        "description": "Current working directory path",
        "required": true,
        "default": "/"
      },
      "last_command": {
        "type": "string",
        "description": "Last executed command",
        "required": false,
        "default": ""
      },
      "created_at": {
        "type": "string",
        "description": "Session creation timestamp",
        "required": true
      },
      "updated_at": {
        "type": "string",
        "description": "Session last update timestamp",
        "required": true
      }
    },
    "relationships": {
      "current_working_directory": {
        "type": "many_to_one",
        "table": "directories",
        "field": "path"
      }
    }
  },
  "operations_log": {
    "description": "Log of file system operations for auditing and history",
    "primary_key": "operation_id",
    "fields": {
      "operation_id": {
        "type": "string",
        "description": "Unique operation identifier",
        "required": true
      },
      "session_id": {
        "type": "string",
        "description": "Session that performed the operation",
        "required": true,
        "default": "default"
      },
      "operation_type": {
        "type": "string",
        "description": "Type of operation (create, read, update, delete, copy, move)",
        "required": true
      },
      "command": {
        "type": "string",
        "description": "Command that was executed",
        "required": true
      },
      "source_path": {
        "type": "string",
        "description": "Source file or directory path",
        "required": false
      },
      "destination_path": {
        "type": "string",
        "description": "Destination file or directory path",
        "required": false
      },
      "success": {
        "type": "boolean",
        "description": "Whether the operation was successful",
        "required": true
      },
      "error_message": {
        "type": "string",
        "description": "Error message if operation failed",
        "required": false
      },
      "timestamp": {
        "type": "string",
        "description": "Operation execution timestamp",
        "required": true
      }
    },
    "relationships": {
      "session_id": {
        "type": "many_to_one",
        "table": "sessions",
        "field": "session_id"
      }
    }
  },
  "search_cache": {
    "description": "Cached search results for performance optimization",
    "primary_key": "cache_id",
    "fields": {
      "cache_id": {
        "type": "string",
        "description": "Unique cache entry identifier",
        "required": true
      },
      "search_type": {
        "type": "string",
        "description": "Type of search (find, grep)",
        "required": true
      },
      "search_path": {
        "type": "string",
        "description": "Path where search was performed",
        "required": true
      },
      "search_pattern": {
        "type": "string",
        "description": "Search pattern or name",
        "required": true
      },
      "results": {
        "type": "array",
        "description": "Array of search results",
        "required": true
      },
      "created_at": {
        "type": "string",
        "description": "Cache entry creation timestamp",
        "required": true
      },
      "expires_at": {
        "type": "string",
        "description": "Cache entry expiration timestamp",
        "required": true
      }
    },
    "relationships": {}
  }
}